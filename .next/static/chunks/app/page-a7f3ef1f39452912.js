(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7322:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>f});var a=t(5155),s=t(2115),r=t(2243),n=t(760),l=t(5196),o=t(4416),d=t(3861),c=t(9633),u=t(2486),p=t(6767),h=t(6683),m=t(1788),x=t(4477);let b=(0,x.createServerReference)("406c0e6cfe0d3f954e573ff111938e5d91ab567627",x.callServer,void 0,x.findSourceMapURL,"subscribeUser"),v=(0,x.createServerReference)("008a6bd45d9f0fb333397290e98ddbe1a538ed82bb",x.callServer,void 0,x.findSourceMapURL,"unsubscribeUser"),g=(0,x.createServerReference)("401bad55775104e4b3b2615e864b97c47a25047d69",x.callServer,void 0,x.findSourceMapURL,"sendNotification");function f(){let[e,i]=(0,s.useState)(!1),[t,x]=(0,s.useState)(null),[f,N]=(0,s.useState)(""),[y,j]=(0,s.useState)(!1),[w,P]=(0,s.useState)(!1),[I,S]=(0,s.useState)(!1),[T,A]=(0,s.useState)(!1);async function _(){let e=await navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"});x(await e.pushManager.getSubscription())}async function F(){S(!0);try{let e=await navigator.serviceWorker.ready,i=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){let i="=".repeat((4-e.length%4)%4),t=(e+i).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(t),s=new Uint8Array(a.length);for(let e=0;e<a.length;++e)s[e]=a.charCodeAt(e);return s}("BFVDEvBrfhUpfYc0wglFz1DnCsqKjqho6KOWP_H5t_RQ0AAwg8tPd3Z9HG6Spg2HH2RnTZhWuQi5G3AdlqAdCh0")});x(i);let t=JSON.parse(JSON.stringify(i));await b(t),E()}catch(e){console.error("Failed to subscribe:",e)}finally{S(!1)}}async function O(){S(!0);try{await (null==t?void 0:t.unsubscribe()),x(null),await v(),E()}catch(e){console.error("Failed to unsubscribe:",e)}finally{S(!1)}}async function z(){if(t&&f.trim()){S(!0);try{await g(f),N(""),E()}catch(e){console.error("Failed to send notification:",e)}finally{S(!1)}}}function E(){A(!0),setTimeout(()=>A(!1),3e3)}(0,s.useEffect)(()=>{"serviceWorker"in navigator&&"PushManager"in window&&(i(!0),_()),j(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),P(window.matchMedia("(display-mode: standalone)").matches)},[]);let k={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}},C={idle:{scale:1},hover:{scale:1.05},tap:{scale:.95}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50 p-4 md:p-8",children:(0,a.jsxs)(r.P.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},className:"max-w-md mx-auto",children:[(0,a.jsxs)(r.P.div,{variants:k,className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-indigo-800 mb-2",children:"PWA Features"}),(0,a.jsx)("p",{className:"text-indigo-600",children:"Stay connected with push notifications and easy installation"})]}),(0,a.jsx)(n.N,{children:T&&(0,a.jsxs)(r.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-6 rounded-md flex items-center",children:[(0,a.jsx)(l.A,{className:"mr-2",size:18}),(0,a.jsx)("span",{children:"Action completed successfully!"}),(0,a.jsx)("button",{onClick:()=>A(!1),className:"ml-auto text-green-700 hover:text-green-900",children:(0,a.jsx)(o.A,{size:18})})]})}),(0,a.jsxs)(r.P.div,{variants:k,className:"bg-white rounded-xl shadow-xl p-6 mb-6 overflow-hidden relative",children:[(0,a.jsx)(r.P.div,{className:"absolute -right-10 -top-10 w-40 h-40 bg-indigo-100 rounded-full opacity-50",animate:{scale:[1,1.2,1]},transition:{duration:8,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),(0,a.jsx)(r.P.div,{className:"absolute -left-10 -bottom-10 w-40 h-40 bg-purple-100 rounded-full opacity-50",animate:{scale:[1,1.2,1]},transition:{duration:10,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)(r.P.div,{initial:{rotate:0},animate:{rotate:t?[0,-10,10,-10,10,0]:0},transition:{duration:1.5,repeat:Number.POSITIVE_INFINITY,repeatDelay:5},className:"bg-indigo-100 p-3 rounded-full mr-4",children:t?(0,a.jsx)(d.A,{size:24,className:"text-indigo-600"}):(0,a.jsx)(c.A,{size:24,className:"text-indigo-400"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-indigo-800",children:"Push Notifications"})]}),e?(0,a.jsx)(n.N,{mode:"wait",children:t?(0,a.jsxs)(r.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,a.jsxs)(r.P.p,{variants:k,className:"text-indigo-600 mb-4 flex items-center",children:[(0,a.jsx)(l.A,{size:18,className:"mr-2"}),"You are subscribed to push notifications"]}),(0,a.jsx)(r.P.div,{variants:k,className:"mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Enter notification message",value:f,onChange:e=>N(e.target.value),className:"w-full p-3 pr-12 border border-indigo-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all"}),(0,a.jsx)(r.P.button,{variants:C,whileHover:"hover",whileTap:"tap",disabled:I||!f.trim(),onClick:z,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-indigo-500 hover:text-indigo-700 disabled:text-gray-300",children:(0,a.jsx)(u.A,{size:20})})]})}),(0,a.jsx)(r.P.button,{variants:C,whileHover:"hover",whileTap:"tap",disabled:I,onClick:O,className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center disabled:bg-red-300",children:I?(0,a.jsx)(r.P.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{size:18,className:"mr-2"}),"Unsubscribe"]})})]},"subscribed"):(0,a.jsxs)(r.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[(0,a.jsx)(r.P.p,{variants:k,className:"text-indigo-600 mb-4",children:"Get notified about important updates and events"}),(0,a.jsx)(r.P.button,{variants:C,whileHover:"hover",whileTap:"tap",disabled:I,onClick:F,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center disabled:bg-indigo-400",children:I?(0,a.jsx)(r.P.div,{animate:{rotate:360},transition:{duration:1,repeat:Number.POSITIVE_INFINITY,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{size:18,className:"mr-2"}),"Subscribe to Notifications"]})})]},"unsubscribed")}):(0,a.jsx)(r.P.p,{variants:k,className:"text-red-500 mb-4",children:"Push notifications are not supported in this browser."})]})]}),!w&&(0,a.jsxs)(r.P.div,{variants:k,className:"bg-white rounded-xl shadow-xl p-6 relative overflow-hidden",children:[(0,a.jsx)(r.P.div,{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-purple-100 rounded-full opacity-50",animate:{scale:[1,1.2,1]},transition:{duration:7,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"}}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)(r.P.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:Number.POSITIVE_INFINITY,repeatType:"reverse"},className:"bg-purple-100 p-3 rounded-full mr-4",children:(0,a.jsx)(p.A,{size:24,className:"text-purple-600"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-purple-800",children:"Install App"})]}),y?(0,a.jsxs)(r.P.div,{variants:k,children:[(0,a.jsx)("p",{className:"text-purple-600 mb-4",children:"To install this app on your iOS device:"}),(0,a.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg mb-4",children:(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-purple-700",children:[(0,a.jsxs)(r.P.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:["Tap the share button ",(0,a.jsx)(h.A,{size:16,className:"inline"})]}),(0,a.jsxs)(r.P.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4},children:['Scroll and tap "Add to Home Screen" ',(0,a.jsx)(m.A,{size:16,className:"inline"})]}),(0,a.jsx)(r.P.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.6},children:'Tap "Add" in the top right corner'})]})})]}):(0,a.jsxs)(r.P.div,{variants:k,children:[(0,a.jsx)("p",{className:"text-purple-600 mb-4",children:"Install this app on your device for quick access even when offline"}),(0,a.jsxs)(r.P.button,{variants:C,whileHover:"hover",whileTap:"tap",className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center",children:[(0,a.jsx)(m.A,{size:18,className:"mr-2"}),"Add to Home Screen"]})]})]})]})]})})}},7470:(e,i,t)=>{Promise.resolve().then(t.bind(t,7322))}},e=>{var i=i=>e(e.s=i);e.O(0,[306,441,684,358],()=>i(7470)),_N_E=e.O()}]);